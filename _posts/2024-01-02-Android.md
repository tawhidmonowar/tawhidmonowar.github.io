---
title: Android
description: Android is an open source and Linux-based Operating System for mobile devices.
author: tawhidmonowar
date: 2024-01-02 11:30:00 +06:00
categories: [Development, Android]
---

## Activities 

In Android, an `Activity` is a single screen that users interact with in an app. It serves as a container for the user interface and handles user actions. Each activity has a lifecycle (e.g., `onCreate()`, `onResume()`, `onDestroy()`) that manages how it behaves as the user navigates the app. While older apps use multiple activities for different screens, modern apps often use a single activity with multiple composables or fragments for navigation.

## Activity Lifecycle

The Activity Lifecycle in Android describes how an activity changes states during its existence. Key lifecycle methods include `onCreate()`, `onStart()`, `onResume()`, `onPause()`, `onStop()`, and `onDestroy()`. These methods are called by the system as the activity is created, becomes visible, interacts with the user, or is closed. Managing these states properly helps ensure smooth performance and efficient resource usage. (See diagram below for the lifecycle flow.)

![activity_lifecycle](/assets/img/posts/android-activity_lifecycle.png)

### onCreate()

`onCreate()` is the first callback in an Activity's lifecycle. It's called when the Activity is first created. In the `onCreate()` method, perform basic application startup logic that happens only once for the entire life of the activity.

### onStart()

`onStart()` is called after `onCreate()` and right before the activity becomes visible. Although the activity is not yet interactive, it’s now in the foreground. This method is used to prepare the activity to enter the active state, such as starting UI updates or getting resources needed while the activity is visible.

### onResume()

The `onResume()` method is called when the activity becomes interactive and fully visible to the user. It’s used to resume any paused processes, such as animations, media playback, or sensor listeners. This method is called every time the activity comes to the foreground, making it ideal for refreshing content or UI elements.

### onPause()

`onPause()` is triggered when another activity is coming into the foreground, and the current activity is about to go into the background. Although still partially visible, the activity is no longer in focus. Use this method to pause operations like video playback or game loops and to save temporary data.

### onStop()

The `onStop()` method is called when the activity is no longer visible to the user. It’s a good place to release heavy resources, stop background tasks, or unregister components that aren't needed when the activity isn’t visible. It helps reduce memory and power usage when the app is in the background.

### onRestart()

`onRestart()` is called when a stopped activity is about to start again. It follows `onStop()` and comes before `onStart()`. This method is useful for re-initializing components or refreshing data that may have changed while the activity was not visible.

### onDestroy()

The `onDestroy()` method is the final callback before the activity is destroyed. It is called when the user finishes the activity or the system removes it to free up resources. This is where you should clean up memory, close connections, and ensure there are no resource leaks.

### Cnfiguration Change

A configuration change in Android occurs when there is a significant change in the device’s environment that can impact the app’s user interface or resources. Common examples include rotating the device (such as switching from portrait to landscape), changing the system language, or switching between light and dark themes. Android treats this as a configuration change, and by default, it destroys and recreates the current activity.

Configuration changes can be handle in two main ways:

- Let Android handle it (default) and save/restore state using `onSaveInstanceState()` and `onRestoreInstanceState()`.
- Handle it manually by declaring in the manifest: `android:configChanges="orientation|screenSize"`

This prevents the activity from being destroyed, and you manually update the UI as needed in `onConfigurationChanged()`

## Tasks & Back Stack

A task is a collection of activities that users interact with when trying to do something in your app. These activities are arranged in a stack called the back stack in the order in which each activity is opened.

![activity_lifecycle](/assets/img/posts/diagram_backstack.png)

## Launch Modes

Launch modes in Android define how activities are launched and how they behave within the task stack. They determine whether a new instance of an activity is created or an existing one is reused when the activity is started. You can specify an activity’s launch mode by using the launchMode attribute within the <activity> tag in the AndroidManifest.xml file. 

```
<activity android:launchMode = [“standard” | “singleTop” | “singleTask” | “singleInstance”] ../>
```

Types of Launch Modes

- standard
- singleTop
- singleTask
- singleInstance

### 1. standard

This is the default launch mode of an activity (If not specified). It creates a new instance of an activity in the task from which it was started. Multiple instances of the activity can be created and multiple instances can be added to the same or different tasks. In other words you can create the same activity multiple times in the same task as well as in different tasks.

```
<activity android:launchMode=”standard” />
```

![Launch Modes](/assets/img/posts/launch-mode-standard.jpg)

### 2. singleTop

In this launch mode if an instance of activity already exists at the top of the current task, a new instance will not be created and Android system will route the intent information through `onNewIntent()`. If an instance is not present on top of task then new instance will be created.

Using this launch mode you can create multiple instance of the same activity in the same task or in different tasks only if the same instance does not already exist at the top of stack.

```
<activity android:launchMode=”singleTop” />
```

![Launch Modes](/assets/img/posts/launch-mode-singletop.jpg)

### 3. singleTask

In this launch mode a new task will always be created and a new instance will be pushed to the task as the root one. If an instance of activity exists on the separate task, a new instance will not be created and Android system routes the intent information through `onNewIntent()` method. At a time only one instance of activity will exist.

```
<activity android:launchMode=”singleTask” />
```

![Launch Modes](/assets/img/posts/launch-mode-singletask.jpg)

### 4. singleInstance

This is very special launch mode and only used in the applications that has only one activity. It is similar to singleTask except that no other activities will be created in the same task. Any other activity started from here will create in a new task.

```
<activity android:launchMode=”singleInstance” />
```

![Launch Modes](/assets/img/posts/launch-mode-singleinstance.jpg)
 


